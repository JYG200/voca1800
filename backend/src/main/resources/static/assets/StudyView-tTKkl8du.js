import{_ as $}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{o as C,c as I,w as S,f as P,e as U,h as u,t as _,J as Z,A as R,K as b,L as tt,M as V,N as et,x,C as nt,O as ot,P as F,Q as st,R as j,S as z,T as E,z as it,b as D,u as H,d as N,U as Y,a as G,V as at,H as lt,I as rt}from"./index-OqW3oA7v.js";const ut={class:"progress-container mx-4 flex-grow-1"},dt={class:"d-flex justify-space-between text-caption text-grey-darken-1 mb-1 font-weight-bold"},ct={class:"text-primary"},pt={__name:"StudyHeader",props:{unitId:{type:String,default:"1"},total:{type:Number,default:0},remaining:{type:Number,default:0}},setup(e){const o=e,s=b(()=>o.total-o.remaining),a=b(()=>o.total===0?0:s.value/o.total*100);return(t,i)=>(C(),I(R,{flat:"",class:"border-b bg-white",height:"60"},{default:S(()=>[P(U,{icon:"mdi-chevron-left",variant:"text",onClick:i[0]||(i[0]=c=>t.$router.go(-1))}),u("div",ut,[u("div",dt,[u("span",null,"Day "+_(e.unitId)+" 학습 진행도",1),u("span",ct,_(s.value)+" / "+_(e.total),1)]),P(Z,{"model-value":a.value,color:"primary",height:"8",rounded:"","bg-color":"grey-lighten-3"},null,8,["model-value"])]),i[1]||(i[1]=u("div",{style:{width:"48px"}},null,-1))]),_:1}))}},vt=$(pt,[["__scopeId","data-v-e19e6192"]]),ft=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const mt=Object.prototype.toString,yt=e=>mt.call(e)==="[object Object]",ht=()=>{};function gt(...e){if(e.length!==1)return tt(...e);const o=e[0];return typeof o=="function"?V(et(()=>({get:o,set:ht}))):x(o)}function O(e){return Array.isArray(e)?e:[e]}function xt(e){return st()}function bt(e,o=!0,s){xt()?nt(e,s):o?e():ot(e)}function wt(e,o,s){return F(e,o,{...s,immediate:!0})}const St=ft?window:void 0;function _t(e){var o;const s=E(e);return(o=s?.$el)!==null&&o!==void 0?o:s}function W(...e){const o=(a,t,i,c)=>(a.addEventListener(t,i,c),()=>a.removeEventListener(t,i,c)),s=b(()=>{const a=O(E(e[0])).filter(t=>t!=null);return a.every(t=>typeof t!="string")?a:void 0});return wt(()=>{var a,t;return[(a=(t=s.value)===null||t===void 0?void 0:t.map(i=>_t(i)))!==null&&a!==void 0?a:[St].filter(i=>i!=null),O(E(s.value?e[1]:e[0])),O(it(s.value?e[2]:e[1])),E(s.value?e[3]:e[2])]},([a,t,i,c],k,p)=>{if(!a?.length||!t?.length||!i?.length)return;const w=yt(c)?{...c}:c,m=a.flatMap(h=>t.flatMap(y=>i.map(g=>o(h,y,g,w))));p(()=>{m.forEach(h=>h())})},{flush:"post"})}function Pt(e,o={}){const s=gt(e),{threshold:a=50,onSwipe:t,onSwipeEnd:i,onSwipeStart:c,disableTextSelect:k=!1}=o,p=j({x:0,y:0}),w=(n,l)=>{p.x=n,p.y=l},m=j({x:0,y:0}),h=(n,l)=>{m.x=n,m.y=l},y=b(()=>p.x-m.x),g=b(()=>p.y-m.y),{max:f,abs:r}=Math,A=b(()=>f(r(y.value),r(g.value))>=a),T=z(!1),B=z(!1),L=b(()=>A.value?r(y.value)>r(g.value)?y.value>0?"left":"right":g.value>0?"up":"down":"none"),M=n=>{var l,d,v;const Q=n.buttons===0,q=n.buttons===1;return(l=(d=(v=o.pointerTypes)===null||v===void 0?void 0:v.includes(n.pointerType))!==null&&d!==void 0?d:Q||q)!==null&&l!==void 0?l:!0},X={passive:!0},J=[W(e,"pointerdown",n=>{if(!M(n))return;B.value=!0;const l=n.target;l?.setPointerCapture(n.pointerId);const{clientX:d,clientY:v}=n;w(d,v),h(d,v),c?.(n)},X),W(e,"pointermove",n=>{if(!M(n)||!B.value)return;const{clientX:l,clientY:d}=n;h(l,d),!T.value&&A.value&&(T.value=!0),T.value&&t?.(n)},X),W(e,"pointerup",n=>{M(n)&&(T.value&&i?.(n,L.value),B.value=!1,T.value=!1)},X)];bt(()=>{var n;if((n=s.value)===null||n===void 0||(n=n.style)===null||n===void 0||n.setProperty("touch-action","pan-y"),k){var l,d,v;(l=s.value)===null||l===void 0||(l=l.style)===null||l===void 0||l.setProperty("-webkit-user-select","none"),(d=s.value)===null||d===void 0||(d=d.style)===null||d===void 0||d.setProperty("-ms-user-select","none"),(v=s.value)===null||v===void 0||(v=v.style)===null||v===void 0||v.setProperty("user-select","none")}});const K=()=>J.forEach(n=>n());return{isSwiping:V(T),direction:V(L),posStart:V(p),posEnd:V(m),distanceX:y,distanceY:g,stop:K}}const kt={id:"study-main"},Tt={class:"card-container"},Ct={class:"word-content text-center opacity-50"},Vt={class:"text-h2 font-weight-black text-grey-lighten-2"},Et={class:"word-content text-center"},It={class:"text-h2 font-weight-black"},At={class:"text-h6 text-grey mt-2"},Bt={class:"text-h4 font-weight-bold text-primary"},Mt={key:2,class:"empty-state text-center"},Xt={__name:"StudyMain",emits:["update-progress"],setup(e,{emit:o}){const s=o,a=[{id:1,word:"Apple",meaning:"사과",phonetic:"[æpl]"},{id:2,word:"Banana",meaning:"바나나",phonetic:"[bəˈnænə]"},{id:3,word:"Cherry",meaning:"체리",phonetic:"[ˈtʃeri]"}],t=x([...a]),i=x(!1);F(()=>t.value.length,f=>{s("update-progress",{total:a.length,remaining:f})},{immediate:!0});const c=x(null),k=x(!1),p=x(0),{distanceX:w,isSwiping:m}=Pt(c,{onSwipeEnd(){w.value>100?y("left"):w.value<-100?y("right"):p.value=0}}),h=b(()=>{if(k.value)return{transform:`translateX(${p.value}px) rotate(${p.value/15}deg)`,transition:"transform 0.4s ease-out"};if(m.value){const f=-w.value;return{transform:`translateX(${f}px) rotate(${f/15}deg)`,transition:"none"}}return{transform:"translateX(0px) rotate(0deg)",transition:"transform 0.3s cubic-bezier(0.25, 0.8, 0.25, 1)"}}),y=f=>{k.value=!0,p.value=f==="left"?-500:500,setTimeout(()=>{const r=t.value.shift();i.value=!1,f==="right"&&t.value.push({...r,id:Date.now()}),k.value=!1,p.value=0},300)},g=()=>{t.value=[...a]};return(f,r)=>(C(),D("main",kt,[u("div",Tt,[t.value.length>1?(C(),I(H,{key:0,class:"word-card next-card elevation-1"},{default:S(()=>[u("div",Ct,[u("h1",Vt,_(t.value[1].word),1)])]),_:1})):N("",!0),t.value.length>0?(C(),I(H,{key:1,ref_key:"topCardRef",ref:c,class:"word-card top-card elevation-4",style:Y(h.value),onClick:r[0]||(r[0]=A=>i.value=!i.value)},{default:S(()=>[u("div",Et,[u("h1",It,_(t.value[0].word),1),u("p",At,_(t.value[0].phonetic),1)]),u("div",{class:"meaning-content mt-12 text-center",style:Y({opacity:i.value?1:0})},[u("span",Bt,_(t.value[0].meaning),1)],4),r[1]||(r[1]=u("div",{class:"guide mt-auto mb-10 text-caption text-grey-lighten-1"}," ← 외움(삭제) | 미흡(뒤로) → ",-1))]),_:1},8,["style"])):N("",!0),t.value.length===0?(C(),D("div",Mt,[P(at,{size:"80",color:"success"},{default:S(()=>[...r[2]||(r[2]=[G("mdi-party-popper",-1)])]),_:1}),r[4]||(r[4]=u("h2",{class:"mt-4"},"학습을 마쳤습니다!",-1)),P(U,{class:"mt-6",color:"primary",variant:"flat",onClick:g},{default:S(()=>[...r[3]||(r[3]=[G("다시 시작",-1)])]),_:1})])):N("",!0)])]))}},Nt=$(Xt,[["__scopeId","data-v-3cb1f334"]]),Ot={id:"study-layout",class:"mobile-container"},Wt={__name:"StudyView",setup(e){const o=x(0),s=x(0),a=t=>{o.value=t.total,s.value=t.remaining};return(t,i)=>(C(),I(lt,null,{default:S(()=>[P(rt,{class:"bg-grey-lighten-5"},{default:S(()=>[u("div",Ot,[P(vt,{unitId:t.$route.params.id,total:o.value,remaining:s.value},null,8,["unitId","total","remaining"]),P(Nt,{class:"study-main-area",onUpdateProgress:a})])]),_:1})]),_:1}))}},jt=$(Wt,[["__scopeId","data-v-1cb5184b"]]);export{jt as default};
